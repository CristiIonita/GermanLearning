<?xml version="1.0" encoding="UTF-8"?><record_update sys_domain="global" table="sys_cb_topic">
    <sys_cb_topic action="INSERT_OR_UPDATE">
        <applicability/>
        <applicability_mode>query</applicability_mode>
        <autopilot_topic>false</autopilot_topic>
        <category>b28634c4b7b93300da7ab948ee11a93a</category>
        <channels/>
        <connect_queue/>
        <description>Update Case reusable topic</description>
        <expose_on_palette>false</expose_on_palette>
        <flexible_conversation_switching>true</flexible_conversation_switching>
        <graph>{
  "graph_api_version": "1.0.36",
  "goals": {
    "primary": {
      "id": "primary",
      "trigger": {
        "type": "primary"
      },
      "name": "primary",
      "applicability": "",
      "description": "",
      "nodes": {
        "48a59cf8fd6541028561233a9b2f3b34": {
          "id": "48a59cf8fd6541028561233a9b2f3b34",
          "stepType": "Start",
          "name": "Start",
          "greetingResponse": {
            "mode": "simple",
            "value": ""
          },
          "parameters": [
            {
              "name": "case_sys_id",
              "value": "7ca5dd392fb90110ee00d5f62799b6c6",
              "id": "6c1ea72124eb4cfe8b5291b70a40fd65",
              "referenced": true,
              "disabled": false,
              "type": "String",
              "hint": "",
              "required": true
            },
            {
              "name": "enable_product_update",
              "value": "false",
              "id": "d1d40e9d62804d43abff9fe0a5f76ff6",
              "referenced": true,
              "disabled": false,
              "type": "String",
              "hint": "",
              "required": false
            }
          ],
          "variableIds": [
            "6c1ea72124eb4cfe8b5291b70a40fd65",
            "d1d40e9d62804d43abff9fe0a5f76ff6"
          ]
        },
        "f3f6ffc090ec4025bdb04a496917e8a8": {
          "id": "f3f6ffc090ec4025bdb04a496917e8a8",
          "stepType": "TerminateGoal",
          "name": "End",
          "confirmationMessage": {
            "mode": "simple",
            "value": ""
          },
          "outputVariables": [
            {
              "key": "case_sys_id",
              "value": [
                {
                  "type": "paragraph",
                  "children": [
                    {
                      "text": ""
                    },
                    {
                      "type": "datapill",
                      "dataPill": {
                        "value": "{{vaInputs.case_sys_id}}",
                        "displayValue": "vaInputs➛case_sys_id"
                      },
                      "children": [
                        {
                          "text": ""
                        }
                      ]
                    },
                    {
                      "text": ""
                    }
                  ]
                }
              ],
              "mode": "simple",
              "disabled": true,
              "cannotBeDeleted": true,
              "alertMessage": {
                "id": "end.outputParamDeleteAlert",
                "defaultMessage": "You cannot delete this parameter because other calling topics use it."
              },
              "additionalInfoUrl": "/sys_cs_topic_library_usage_list.do?sysparm_query=library_cs_topic_id=8b976515b767330024f1b948ee11a982%5Ecalling_cs_topic_idIN3ab99fadb767330024f1b948ee11a931,31fdd361b7a7330024f1b948ee11a9ba,1e1adf6db767330024f1b948ee11a908",
              "additionalInfoLabel": {
                "id": "end.outputParameterDeleteInfoLink",
                "defaultMessage": "See calling topics"
              }
            }
          ]
        },
        "15e4f95c57fd404780236dbe29b67fd1": {
          "id": "15e4f95c57fd404780236dbe29b67fd1",
          "stepType": "LookupRecord",
          "name": "Selected Case",
          "condition": {
            "mode": "glide_query",
            "value": "sys_id={{vaInputs.case_sys_id}}"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "variableId": "d551b37598864d2b80651d4a3beb951e"
        },
        "36a1f90830004b52a249e1e930185cfe": {
          "id": "36a1f90830004b52a249e1e930185cfe",
          "stepType": "Decision",
          "name": "Decision"
        },
        "1476ee387abe4acca0fbf09a7fe51668": {
          "id": "1476ee387abe4acca0fbf09a7fe51668",
          "stepType": "CrudAction",
          "name": "Add comments to case",
          "template": "comments={{vaInputs.comment_addition}}",
          "mode": "update",
          "record": "d551b37598864d2b80651d4a3beb951e",
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "variableId": "c1324bde90e0431590a1276f81c45a3a"
        },
        "f6a1c06a75484e06b8e01a92aa299555": {
          "id": "f6a1c06a75484e06b8e01a92aa299555",
          "stepType": "Prompt",
          "name": "comment addition",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Please enter your comments"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "a9d2434392114679938c8915a474a7dc",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "inputType": {
            "format": "Text",
            "script": ""
          }
        },
        "c85655c91a49463b8779478b9a3f790b": {
          "id": "c85655c91a49463b8779478b9a3f790b",
          "stepType": "Prompt",
          "name": "Attach Image",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Select an image you want to attach"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": {
            "id": ""
          },
          "variableId": "5e4b04300d29471d9d166e31b7a2c4ed",
          "skippable": {
            "value": "",
            "mode": "query"
          }
        },
        "2ec626eec94148ccbe9c54ede1b3b078": {
          "id": "2ec626eec94148ccbe9c54ede1b3b078",
          "name": "Attach Image to Case",
          "script": "(function execute() {\n    vaSystem.attachToRecord(vaInputs.attach_image, 'sn_customerservice_case', vaInputs.case_sys_id);\n})()",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "ea2808bd8cfe4d21ad249b8187bd6e3c": {
          "id": "ea2808bd8cfe4d21ad249b8187bd6e3c",
          "stepType": "TextOutput",
          "name": "Image Attached Ack",
          "value": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "I have updated the case with the image."
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "bb01b834ab334960b01a2e7b8a19653f": {
          "id": "bb01b834ab334960b01a2e7b8a19653f",
          "stepType": "TextOutput",
          "name": "Comment Updated Ack",
          "value": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "I have updated the case with your comment."
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "53c8a3a49d7043a4bc64f7fb2007ee25": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Product Model",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Please select a product model:"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "mode": "query",
            "value": ""
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "f00e7c384fbe49ebae1642d992428bb7",
          "id": "53c8a3a49d7043a4bc64f7fb2007ee25",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var total = parseInt(vaVars.total);\n    var list = JSON.parse(vaVars.productlist).slice(index, index + parseInt(vaVars.listsize));\n    for (var i=0; i&lt;list.length; i++) {\n        options.push(list[i]);\n    }\n    if ( index != 0) {\n        options.push({\n            'value': \"PREV\",\n            'label': \"Previous\"\n            });\n    }\n    \n    if (index + parseInt(vaVars.listsize) &lt; total) {\n        options.push({\n            'value': \"NEXT\",\n            'label': \"Next\"\n            });\n    }\n\n    options.push({\n        \"value\": \"CANCEL\",\n        \"label\": \"Cancel\"\n    })\n    return options;\n})()\n",
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Sorry there's no Product Models available for you"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var total = parseInt(vaVars.total);\n    var list = JSON.parse(vaVars.productlist).slice(index, index + parseInt(vaVars.listsize));\n    for (var i=0; i&lt;list.length; i++) {\n        options.push(list[i]);\n    }\n    if ( index != 0) {\n        options.push({\n            'value': \"PREV\",\n            'label': \"Previous\"\n            });\n    }\n    \n    if (index + parseInt(vaVars.listsize) &lt; total) {\n        options.push({\n            'value': \"NEXT\",\n            'label': \"Next\"\n            });\n    }\n\n    options.push({\n        \"value\": \"CANCEL\",\n        \"label\": \"Cancel\"\n    })\n    return options;\n})()\n",
            "mode": "external_script"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "hasCardHeader": false
        },
        "677f45f5bf5b4d7da7ce72c92f849a7b": {
          "id": "677f45f5bf5b4d7da7ce72c92f849a7b",
          "stepType": "Prompt",
          "name": "want asset",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Do you want to choose an asset?"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "variableId": "1e780e39c88b4373b545fcc5bdf1278a",
          "skippable": {
            "value": "",
            "mode": "query"
          }
        },
        "f8dbce171b79451ea760428808cb8bf7": {
          "id": "f8dbce171b79451ea760428808cb8bf7",
          "stepType": "Decision",
          "name": "Decision"
        },
        "66d8c3fde03847f2946ac376a7b907d8": {
          "id": "66d8c3fde03847f2946ac376a7b907d8",
          "stepType": "CrudAction",
          "name": "Update Product model only",
          "template": "product={{vaInputs.product_model}}^asset=",
          "mode": "update",
          "record": "d551b37598864d2b80651d4a3beb951e",
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "variableId": "78efac74afd04de8b547db6f942e10bf"
        },
        "0f15dfb057bf418e8054f6141f8168b3": {
          "id": "0f15dfb057bf418e8054f6141f8168b3",
          "stepType": "TextOutput",
          "name": "Product Asset Update Ack",
          "value": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "I've updated the case for you:"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "0ac991513c584ad2b3e7add114bc2c18": {
          "id": "0ac991513c584ad2b3e7add114bc2c18",
          "stepType": "RecordOutput",
          "name": "Display Case Card",
          "variableId": "",
          "mode": "script",
          "tableName": "sn_customerservice_case",
          "fields": [
            "short_description",
            "state",
            "priority",
            "product",
            "asset"
          ],
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "condition": {
            "mode": "glide_query",
            "value": "sys_id={{vaInputs.case_sys_id}}"
          },
          "cardTemplate": "General",
          "cardFields": {},
          "cardDefinition": {}
        },
        "3bda6e080b3a40889e8e60a740a196b8": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Asset",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Please select an asset:"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "60dd9904aae4464d84e8c9eebf2382c5",
          "id": "3bda6e080b3a40889e8e60a740a196b8",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var total = parseInt(vaVars.total);\n    var list = JSON.parse(vaVars.assetlist).slice(index, index + parseInt(vaVars.listsize));\n\n    for (var i=0; i&lt;list.length; i++) {\n        options.push(list[i]);\n    }\n    if ( index != 0) {\n        options.push({\n            'value': \"PREV\",\n            'label': \"Previous\"\n            });\n    }\n    if (index + parseInt(vaVars.listsize) &lt; total) {\n        options.push({\n            'value': \"NEXT\",\n            'label': \"Next\"\n            });\n    }\n\n    options.push({\n        \"value\": \"CANCEL\",\n        \"label\": \"Cancel\"\n    })\n    return options;\n})()\n",
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "No Assets Found"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    var index = parseInt(vaVars.index);\n    var total = parseInt(vaVars.total);\n    var list = JSON.parse(vaVars.assetlist).slice(index, index + parseInt(vaVars.listsize));\n\n    for (var i=0; i&lt;list.length; i++) {\n        options.push(list[i]);\n    }\n    if ( index != 0) {\n        options.push({\n            'value': \"PREV\",\n            'label': \"Previous\"\n            });\n    }\n    if (index + parseInt(vaVars.listsize) &lt; total) {\n        options.push({\n            'value': \"NEXT\",\n            'label': \"Next\"\n            });\n    }\n\n    options.push({\n        \"value\": \"CANCEL\",\n        \"label\": \"Cancel\"\n    })\n    return options;\n})()\n",
            "mode": "external_script"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "hasCardHeader": false
        },
        "e41f117941834fa59580a5b7ccab954f": {
          "id": "e41f117941834fa59580a5b7ccab954f",
          "stepType": "CrudAction",
          "name": "update Asset &amp; Product",
          "template": "product={{vaInputs.product_model}}^asset={{vaInputs.asset}}",
          "mode": "update",
          "record": "d551b37598864d2b80651d4a3beb951e",
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "variableId": "25cccb517e504d1f956b2a67f9e24f31"
        },
        "81900548134d4da28eb76916bd40e20a": {
          "id": "81900548134d4da28eb76916bd40e20a",
          "stepType": "Decision",
          "name": "Decision"
        },
        "c6800d438fbc465baff3499945721067": {
          "id": "c6800d438fbc465baff3499945721067",
          "stepType": "TextOutput",
          "name": "Ivalid caseid",
          "value": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "This is an incorrect case ID."
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "f6656bc2cd26436b8cbfe0479c82bd3b": {
          "stepType": "ReferenceChoicePrompt",
          "name": "Additional Action",
          "prompt": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Here is the information you can add to "
                  },
                  {
                    "type": "datapill",
                    "dataPill": {
                      "value": "{{vaInputs.selected_case.number}}",
                      "displayValue": "vaInputs➛selected_case➛number"
                    },
                    "children": [
                      {
                        "text": ""
                      }
                    ]
                  },
                  {
                    "text": ":"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "confirmMessage": {
            "value": "",
            "mode": "simple"
          },
          "acknowledgeMsg": {
            "value": "",
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "optional": false,
          "defaultValue": {
            "value": "",
            "mode": "simple"
          },
          "variableId": "1d4427be302c40219aaaf605ad067e6e",
          "id": "f6656bc2cd26436b8cbfe0479c82bd3b",
          "mode": "external",
          "script": "(function execute() {\n    var options = [];\n    if(vaInputs.enable_product_update=='true'){\n        options.push({ 'value': '1', 'label': gs.getMessage('Add product information') });\n    }\n    options.push({ 'value': '2', 'label': gs.getMessage('Add a comment') });\n    options.push({ 'value': '3', 'label': gs.getMessage('Attach an image') });\n    options.push({ 'value': '0', 'label': gs.getMessage('Cancel') });\n    return options;    \n})()\n",
          "noRecordsResponseMsg": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "No Additional Actions found!"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "condition": {
            "value": "(function execute() {\n    var options = [];\n    if(vaInputs.enable_product_update=='true'){\n        options.push({ 'value': '1', 'label': gs.getMessage('Add product information') });\n    }\n    options.push({ 'value': '2', 'label': gs.getMessage('Add a comment') });\n    options.push({ 'value': '3', 'label': gs.getMessage('Attach an image') });\n    options.push({ 'value': '0', 'label': gs.getMessage('Cancel') });\n    return options;    \n})()\n",
            "mode": "external_script"
          },
          "withNluUserInput": false,
          "skipIfFulfilled": false,
          "entity": "",
          "skippable": {
            "value": "",
            "mode": "query"
          },
          "cardMetadata": {
            "mode": "card",
            "metadataScript": "",
            "cardTemplate": "",
            "cardFields": {},
            "cardDefinition": {}
          },
          "hasCardHeader": false
        },
        "f385bbae0ca8485c8e06307bbf85d9a1": {
          "id": "f385bbae0ca8485c8e06307bbf85d9a1",
          "name": "Product Model Pre Process",
          "script": "(function execute() {\nvar productList = [];\nvar products =new GlideAggregate('alm_asset');\nproducts.addAggregate('COUNT','model');\nproducts.orderBy('model'); \nproducts.query();\nwhile(products.next()){\n    var currProduct = {};\n    currProduct[\"value\"]=products.getValue(\"model\");\n    currProduct[\"label\"]=products.getDisplayValue(\"model\");\n    productList.push(currProduct);\n}    \n    vaVars.productlist = JSON.stringify(productList);\n    vaVars.total = productList.length;//reset\n    return '';\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "635d84a1f6a8407db45844a40eeb02f6": {
          "id": "635d84a1f6a8407db45844a40eeb02f6",
          "stepType": "Decision",
          "name": "Decision"
        },
        "1262681ba2ff4ece9892e9654a606253": {
          "id": "1262681ba2ff4ece9892e9654a606253",
          "stepType": "TextOutput",
          "name": "No Product Model Ack",
          "value": {
            "value": [
              {
                "type": "paragraph",
                "children": [
                  {
                    "text": ""
                  },
                  {
                    "text": "Sorry there's no Product Models available for you"
                  },
                  {
                    "text": ""
                  }
                ]
              }
            ],
            "mode": "simple"
          },
          "applicability": {
            "value": "",
            "mode": "query"
          },
          "secure": false
        },
        "2f9a333f13c0496c9d13d71528ea8020": {
          "id": "2f9a333f13c0496c9d13d71528ea8020",
          "stepType": "Decision",
          "name": "Decision"
        },
        "b2b099df1b5144c0b31523a2ed15fa1a": {
          "id": "b2b099df1b5144c0b31523a2ed15fa1a",
          "name": "Asset List Pre Process",
          "script": "(function execute() {\n    var list = [];\n    var gr = new GlideRecord(\"alm_asset\");\n    gr.addQuery(\"model\", vaInputs.product_model.getValue());\n    gr.orderBy(\"serial_number\");\n    gr.query();\n    while (gr.next()) {\n        var currentAsset = {};\n        currentAsset[\"value\"] = gr.getUniqueValue();\n        currentAsset[\"label\"] = gr.getValue(\"display_name\");\n        list.push(currentAsset);\n    }\n    vaVars.assetlist = JSON.stringify(list);\n    vaVars.index = 0;//reset\n    vaVars.total = list.length;//reset\n    return '';\n})()\n",
          "stepType": "ScriptAction",
          "applicability": {
            "value": "",
            "mode": "query"
          }
        },
        "76ac1aa64f9a4f4c89c656623d415a93": {
          "id": "76ac1aa64f9a4f4c89c656623d415a93",
          "stepType": "Decision",
          "name": "Decision"
        }
      },
      "edges": [
        {
          "id": "e748bf9f3fc44c279d84b78550d4b57b",
          "edgeType": "Edge",
          "source": "f6656bc2cd26436b8cbfe0479c82bd3b",
          "target": "36a1f90830004b52a249e1e930185cfe",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "fb16cc0c8dbf46e7933c588482d23794",
          "edgeType": "Branch",
          "source": "36a1f90830004b52a249e1e930185cfe",
          "target": "f6a1c06a75484e06b8e01a92aa299555",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.additional_action=='2';\n})()\n"
          },
          "label": "(2) Add Comments"
        },
        {
          "id": "2b7687ffb8bf4f83beeaff1864c46cc8",
          "edgeType": "Branch",
          "source": "36a1f90830004b52a249e1e930185cfe",
          "target": "f3f6ffc090ec4025bdb04a496917e8a8",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.additional_action=='0';\n})()\n"
          },
          "label": "(0) Cancel"
        },
        {
          "id": "6f79a4e84bea4faa985a1c48ffc220b2",
          "edgeType": "Edge",
          "source": "c85655c91a49463b8779478b9a3f790b",
          "target": "2ec626eec94148ccbe9c54ede1b3b078",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "de5acccd38074543b4c8ae177fa140bc",
          "edgeType": "Branch",
          "source": "81900548134d4da28eb76916bd40e20a",
          "target": "f6656bc2cd26436b8cbfe0479c82bd3b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "selected_caseISNOTEMPTY",
            "mode": "query"
          },
          "label": "Valid"
        },
        {
          "id": "2c79d2f09c1b49578e1f9a022e77178a",
          "edgeType": "Edge",
          "source": "bb01b834ab334960b01a2e7b8a19653f",
          "target": "f6656bc2cd26436b8cbfe0479c82bd3b",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "e9d7a842c08d45e8ac8b2a7787fb4379",
          "edgeType": "Edge",
          "source": "e41f117941834fa59580a5b7ccab954f",
          "target": "0f15dfb057bf418e8054f6141f8168b3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "199bfda936e747c6b95cca1e4014eacc",
          "edgeType": "Edge",
          "source": "48a59cf8fd6541028561233a9b2f3b34",
          "target": "15e4f95c57fd404780236dbe29b67fd1",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "e5bee62ea6c9417ba973da8e45025553",
          "edgeType": "Edge",
          "source": "f6a1c06a75484e06b8e01a92aa299555",
          "target": "1476ee387abe4acca0fbf09a7fe51668",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "7bea449090b149c0b6ff6a87013cb221",
          "edgeType": "Branch",
          "source": "36a1f90830004b52a249e1e930185cfe",
          "target": "c85655c91a49463b8779478b9a3f790b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.additional_action=='3';\n})()\n"
          },
          "label": "(3) Attach a picture"
        },
        {
          "id": "7af2a4c250ef48ed9b27c9a720c79930",
          "edgeType": "Edge",
          "source": "2ec626eec94148ccbe9c54ede1b3b078",
          "target": "ea2808bd8cfe4d21ad249b8187bd6e3c",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "2b9e1df28d9349dbb53fca6afb157752",
          "edgeType": "Edge",
          "source": "ea2808bd8cfe4d21ad249b8187bd6e3c",
          "target": "f6656bc2cd26436b8cbfe0479c82bd3b",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "39dd1fe049ca4c60801f6ec38163f5e1",
          "edgeType": "Edge",
          "source": "1476ee387abe4acca0fbf09a7fe51668",
          "target": "bb01b834ab334960b01a2e7b8a19653f",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "bffbe74ad3a24d46b2672a3e23b39dc9",
          "edgeType": "Edge",
          "source": "677f45f5bf5b4d7da7ce72c92f849a7b",
          "target": "f8dbce171b79451ea760428808cb8bf7",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "ab4aaa04790f4e3fb50896b035cbf770",
          "edgeType": "Branch",
          "source": "f8dbce171b79451ea760428808cb8bf7",
          "target": "66d8c3fde03847f2946ac376a7b907d8",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "want_asset=",
            "mode": "query"
          },
          "label": "No"
        },
        {
          "id": "b45842c8e1324240a5bf791fe1b0bd1a",
          "edgeType": "Edge",
          "source": "66d8c3fde03847f2946ac376a7b907d8",
          "target": "0f15dfb057bf418e8054f6141f8168b3",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "458a37f4b73944408b9f4e6fc4181b38",
          "edgeType": "Edge",
          "source": "0f15dfb057bf418e8054f6141f8168b3",
          "target": "0ac991513c584ad2b3e7add114bc2c18",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "6451b4e793274980b39e9dd1f418fc43",
          "edgeType": "Edge",
          "source": "15e4f95c57fd404780236dbe29b67fd1",
          "target": "81900548134d4da28eb76916bd40e20a",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "abcd2f7106b94ef8b821b2d567a4e548",
          "edgeType": "Branch",
          "source": "81900548134d4da28eb76916bd40e20a",
          "target": "c6800d438fbc465baff3499945721067",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "value": "selected_caseISEMPTY",
            "mode": "query"
          },
          "label": "Invalid"
        },
        {
          "id": "dd91bd2df0124eb082f5bbff7fd8928f",
          "edgeType": "Edge",
          "source": "c6800d438fbc465baff3499945721067",
          "target": "f3f6ffc090ec4025bdb04a496917e8a8",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "307e554221e84c84bb6e6bd9a1fe9751",
          "edgeType": "Edge",
          "source": "0ac991513c584ad2b3e7add114bc2c18",
          "target": "f6656bc2cd26436b8cbfe0479c82bd3b",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "b2995613909545609b8c1edf992d642e",
          "edgeType": "Branch",
          "source": "36a1f90830004b52a249e1e930185cfe",
          "target": "f385bbae0ca8485c8e06307bbf85d9a1",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.additional_action=='1';\n})()\n"
          },
          "label": "(1) Add a specific Product/Asset"
        },
        {
          "id": "82f64cb89b6347a7944d7f7a107385b5",
          "edgeType": "Edge",
          "source": "f385bbae0ca8485c8e06307bbf85d9a1",
          "target": "635d84a1f6a8407db45844a40eeb02f6",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "5c06e4279e354e80b2e59695f1671473",
          "edgeType": "Branch",
          "source": "635d84a1f6a8407db45844a40eeb02f6",
          "target": "53c8a3a49d7043a4bc64f7fb2007ee25",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    vaVars.index = 0;\n    return JSON.parse(vaVars.productlist).length != 0;\n})()\n"
          },
          "label": "Have Product Model"
        },
        {
          "id": "1111b30b9c40487285d23a3b3394e3af",
          "edgeType": "Branch",
          "source": "635d84a1f6a8407db45844a40eeb02f6",
          "target": "1262681ba2ff4ece9892e9654a606253",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return JSON.parse(vaVars.productlist).length == 0;\n})()\n"
          },
          "label": "No Product Model"
        },
        {
          "id": "e363eebcb1224a5e9da48391d8beec1d",
          "edgeType": "Edge",
          "source": "1262681ba2ff4ece9892e9654a606253",
          "target": "f6656bc2cd26436b8cbfe0479c82bd3b",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "b00ca810545e4edb86d9f1d27e5ec607",
          "edgeType": "Edge",
          "source": "53c8a3a49d7043a4bc64f7fb2007ee25",
          "target": "2f9a333f13c0496c9d13d71528ea8020",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "d07552a4ea884c06b6b5ed51f96004ff",
          "edgeType": "Branch",
          "source": "2f9a333f13c0496c9d13d71528ea8020",
          "target": "677f45f5bf5b4d7da7ce72c92f849a7b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var gr = new GlideRecord(\"cmdb_model\");\n    return gr.get(vaInputs.product_model.getValue());\n})()\n"
          },
          "label": "Continue"
        },
        {
          "id": "04c5588d320a44b494221fa26166634f",
          "edgeType": "Branch",
          "source": "2f9a333f13c0496c9d13d71528ea8020",
          "target": "53c8a3a49d7043a4bc64f7fb2007ee25",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if (vaInputs.product_model.getValue() == \"PREV\") {\n        //vaInputs.ref.reset();\n        vaVars.index = parseInt(vaVars.index) - parseInt(vaVars.listsize);\n        return true;\n    } else if (vaInputs.product_model.getValue() == \"NEXT\"){\n        //vaInputs.ref.reset();\n        vaVars.index = parseInt(vaVars.index) + parseInt(vaVars.listsize);\n        return true;\n    } else {\n        return false;\n    }\n})()\n"
          },
          "label": "PREV &amp;&amp; NEXT"
        },
        {
          "id": "e4b5598439774d74a661d38da7091ce9",
          "edgeType": "Branch",
          "source": "2f9a333f13c0496c9d13d71528ea8020",
          "target": "f6656bc2cd26436b8cbfe0479c82bd3b",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.product_model.getValue() == \"CANCEL\";\n})()\n"
          },
          "label": "Cancel"
        },
        {
          "id": "bfc07cd8d6e049f3bc0407567fe780c8",
          "edgeType": "Branch",
          "source": "f8dbce171b79451ea760428808cb8bf7",
          "target": "b2b099df1b5144c0b31523a2ed15fa1a",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return vaInputs.want_asset.getValue() == true;\n})()\n"
          },
          "label": "Yes"
        },
        {
          "id": "e29328b96e0e4cd4bee46c7839cd4568",
          "edgeType": "Edge",
          "source": "b2b099df1b5144c0b31523a2ed15fa1a",
          "target": "3bda6e080b3a40889e8e60a740a196b8",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "dad21af006ac4e468f8c28e3ffe1a092",
          "edgeType": "Edge",
          "source": "3bda6e080b3a40889e8e60a740a196b8",
          "target": "76ac1aa64f9a4f4c89c656623d415a93",
          "sourcePort": "",
          "targetPort": ""
        },
        {
          "id": "0d4b3171817449f6ac9b37a9dba6cba1",
          "edgeType": "Branch",
          "source": "76ac1aa64f9a4f4c89c656623d415a93",
          "target": "e41f117941834fa59580a5b7ccab954f",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    var gr = new GlideRecord(\"alm_asset\");\n    return gr.get(vaInputs.asset.getValue());\n})()\n"
          },
          "label": "Continue"
        },
        {
          "id": "e1680eeed32844b4acb4e1921389815b",
          "edgeType": "Branch",
          "source": "76ac1aa64f9a4f4c89c656623d415a93",
          "target": "3bda6e080b3a40889e8e60a740a196b8",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    if (vaInputs.asset.getValue() == \"PREV\") {\n        //vaInputs.ref.reset();\n        vaVars.index = parseInt(vaVars.index) - parseInt(vaVars.listsize);\n        return true;\n    } else if (vaInputs.asset.getValue() == \"NEXT\"){\n        //vaInputs.ref.reset();\n        vaVars.index = parseInt(vaVars.index) + parseInt(vaVars.listsize);\n        return true;\n    } else {\n        return false;\n    }\n})()\n"
          },
          "label": "PREV &amp;&amp; NEXT"
        },
        {
          "id": "e1834caeb00e42cd92a77af71fdcf50c",
          "edgeType": "Branch",
          "source": "76ac1aa64f9a4f4c89c656623d415a93",
          "target": "66d8c3fde03847f2946ac376a7b907d8",
          "sourcePort": "",
          "targetPort": "",
          "expression": {
            "mode": "script",
            "value": "(function execute() {\n    return (vaInputs.asset.getValue() == \"CANCEL\");\n})()\n"
          },
          "label": "Cancel"
        }
      ]
    }
  },
  "variables": {
    "d551b37598864d2b80651d4a3beb951e": {
      "id": "d551b37598864d2b80651d4a3beb951e",
      "name": "selected_case",
      "label": "Selected Case",
      "varType": "reference",
      "table": "x_723119_germanlrn_resource",
      "category": "vaInputs"
    },
    "6c1ea72124eb4cfe8b5291b70a40fd65": {
      "id": "6c1ea72124eb4cfe8b5291b70a40fd65",
      "name": "case_sys_id",
      "label": "Case_sys_id",
      "defaultValue": "7ca5dd392fb90110ee00d5f62799b6c6",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "c1324bde90e0431590a1276f81c45a3a": {
      "id": "c1324bde90e0431590a1276f81c45a3a",
      "name": "add_comments_to_case",
      "label": "Add Comments To Case",
      "varType": "reference",
      "table": "sn_customerservice_case",
      "inactive": true,
      "category": "vaInputs"
    },
    "a9d2434392114679938c8915a474a7dc": {
      "id": "a9d2434392114679938c8915a474a7dc",
      "name": "comment_addition",
      "label": "Comment Addition",
      "varType": "string",
      "category": "vaInputs",
      "secure": false,
      "encryptionSalt": {
        "value": "MTY0NjA0MTMwODM0MiBWQSBEZXNpZ25lciBpcyBhd2Vzb21l",
        "mode": "simple"
      },
      "encryptionHashFunction": "SHA-256"
    },
    "5e4b04300d29471d9d166e31b7a2c4ed": {
      "id": "5e4b04300d29471d9d166e31b7a2c4ed",
      "name": "attach_image",
      "label": "Attach Image",
      "varType": "image",
      "category": "vaInputs"
    },
    "f00e7c384fbe49ebae1642d992428bb7": {
      "id": "f00e7c384fbe49ebae1642d992428bb7",
      "name": "product_model",
      "label": "Product Model",
      "varType": "reference",
      "table": "cmdb_model",
      "category": "vaInputs"
    },
    "1e780e39c88b4373b545fcc5bdf1278a": {
      "id": "1e780e39c88b4373b545fcc5bdf1278a",
      "name": "want_asset",
      "label": "Want Asset",
      "varType": "boolean",
      "category": "vaInputs"
    },
    "78efac74afd04de8b547db6f942e10bf": {
      "id": "78efac74afd04de8b547db6f942e10bf",
      "name": "update_product_model_only",
      "label": "Update Product Model Only",
      "varType": "reference",
      "table": "sn_customerservice_case",
      "inactive": true,
      "category": "vaInputs"
    },
    "60dd9904aae4464d84e8c9eebf2382c5": {
      "id": "60dd9904aae4464d84e8c9eebf2382c5",
      "name": "asset",
      "label": "Asset",
      "varType": "reference",
      "table": "alm_asset",
      "category": "vaInputs"
    },
    "25cccb517e504d1f956b2a67f9e24f31": {
      "id": "25cccb517e504d1f956b2a67f9e24f31",
      "name": "update_asset_product",
      "label": "Update Asset &amp; Product",
      "varType": "reference",
      "table": "sn_customerservice_case",
      "inactive": true,
      "category": "vaInputs"
    },
    "2f7f3e38a5844cebba395e45c8bd5082": {
      "id": "2f7f3e38a5844cebba395e45c8bd5082",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "imageId",
      "label": "imageId",
      "varType": "script",
      "category": "vaVars"
    },
    "d1d40e9d62804d43abff9fe0a5f76ff6": {
      "id": "d1d40e9d62804d43abff9fe0a5f76ff6",
      "name": "enable_product_update",
      "label": "Enable_product_update",
      "defaultValue": "false",
      "varType": "string",
      "category": "vaInputs",
      "metadata": {
        "libraryMappingType": "input"
      }
    },
    "1d4427be302c40219aaaf605ad067e6e": {
      "id": "1d4427be302c40219aaaf605ad067e6e",
      "name": "additional_action",
      "label": "Additional Action",
      "varType": "reference",
      "table": "",
      "category": "vaInputs"
    },
    "f82251d10cba45359588a886e5b42749": {
      "id": "f82251d10cba45359588a886e5b42749",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "productlist",
      "label": "productlist",
      "varType": "script",
      "category": "vaVars"
    },
    "3fbb5960e7264e4e9cf966acc8328e5b": {
      "id": "3fbb5960e7264e4e9cf966acc8328e5b",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "index",
      "label": "index",
      "varType": "script",
      "category": "vaVars"
    },
    "f4d6374ad2dc49e1889315b1104119fe": {
      "id": "f4d6374ad2dc49e1889315b1104119fe",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "assetlist",
      "label": "assetlist",
      "varType": "script",
      "category": "vaVars"
    },
    "0448222237e24b2d958b5fd085027678": {
      "id": "0448222237e24b2d958b5fd085027678",
      "value": {
        "value": "",
        "mode": "simple"
      },
      "name": "total",
      "label": "total",
      "varType": "script",
      "category": "vaVars"
    },
    "962332f4346c4819b7ccf254dc616497": {
      "id": "962332f4346c4819b7ccf254dc616497",
      "value": {
        "mode": "simple",
        "value": "6"
      },
      "name": "listsize",
      "label": "listsize",
      "varType": "script",
      "category": "vaVars"
    },
    "0c596559774d4e398accb57fd9e4d4d7": {
      "category": "vaInputs",
      "id": "0c596559774d4e398accb57fd9e4d4d7",
      "label": "User",
      "name": "user",
      "table": "sys_user",
      "varType": "reference"
    }
  }
}</graph>
        <key_phrases/>
        <library>true</library>
        <live_agent>false</live_agent>
        <name>UpdateCaseTest</name>
        <nlu_intent/>
        <nlu_intent_label/>
        <nlu_model/>
        <nlu_model_label/>
        <nlu_provider/>
        <palette_label/>
        <roles/>
        <source_topic_id>d229ef43b70733006ebab948ee11a93a</source_topic_id>
        <sys_class_name>sys_cb_topic</sys_class_name>
        <sys_created_by>admin</sys_created_by>
        <sys_created_on>2022-02-28 09:42:54</sys_created_on>
        <sys_domain>global</sys_domain>
        <sys_id>ff95b0002fcac510ee00d5f62799b647</sys_id>
        <sys_mod_count>2</sys_mod_count>
        <sys_name>UpdateCaseTest</sys_name>
        <sys_package display_value="German Learning" source="x_723119_germanlrn">612b9ab72f100110ee00d5f62799b622</sys_package>
        <sys_policy/>
        <sys_scope display_value="German Learning">612b9ab72f100110ee00d5f62799b622</sys_scope>
        <sys_update_name>sys_cb_topic_ff95b0002fcac510ee00d5f62799b647</sys_update_name>
        <sys_updated_by>admin</sys_updated_by>
        <sys_updated_on>2022-02-28 10:31:37</sys_updated_on>
        <triggerable_by_notification>false</triggerable_by_notification>
        <type>TOPIC_BLOCK</type>
        <variables/>
    </sys_cb_topic>
    <sys_variable_value action="delete_multiple" query="document_key=ff95b0002fcac510ee00d5f62799b647"/>
</record_update>
